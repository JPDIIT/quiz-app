// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Quiz {
  id Int      @id @default(autoincrement())
  name String
  subject String
  currentScore Decimal
  averageScore Decimal
  active Boolean
  questions QuestionBank[]
}

model Scores {
  id Int      @id @default(autoincrement())
  quizId Int?
  score Decimal
  starttime DateTime
  endtime DateTime
  attempt Int
}

model QuestionBank {
  id Int      @id @default(autoincrement())
  q_num Int
  question String
  correct_answer String
  quizId Int
  quiz Quiz @relation(fields: [quizId], references: [id])
  responses Responses[]
}

model Responses {
  id Int      @id @default(autoincrement())
  session Int
  response String
  correct Boolean
  questId Int
  questionBank QuestionBank @relation(fields: [questId], references: [id])
}



